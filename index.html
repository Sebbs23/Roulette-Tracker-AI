<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pelayos 2.0 - Roulette Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #222;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ffcc00;
    }
    input, button {
      padding: 10px;
      margin: 5px;
      font-size: 16px;
    }
    button {
      background: #ffcc00;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 3px 0;
    }
    .stats {
      margin-top: 20px;
      text-align: left;
      display: inline-block;
      background: #333;
      padding: 15px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>Pelayos 2.0</h1>
  <p>Enter the numbers as they appear in the roulette:</p>
  <input type="number" id="numberInput" placeholder="Enter number (0-36)">
  <button onclick="addNumber()">Add Number</button>
  <button onclick="clearHistory()">üóëÔ∏è Borrar Historial</button>

  <h2>History (last 200)</h2>
  <ul id="history"></ul>

  <h2>Most Frequent Numbers</h2>
  <ul id="frequent"></ul>

  <h2>Statistics</h2>
  <div class="stats" id="stats"></div>

  <script>
    let history = [];

    const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

    function addNumber() {
      const input = document.getElementById('numberInput');
      const num = parseInt(input.value);
      if (!isNaN(num) && num >= 0 && num <= 36) {
        history.push(num);
        if (history.length > 200) history.shift(); // mantener 200
        updateHistory();
        updateFrequent();
        updateStats();
      }
      input.value = '';
    }

    function updateHistory() {
      const list = document.getElementById('history');
      list.innerHTML = '';
      history.slice(-20).forEach(n => {
        const li = document.createElement('li');
        li.textContent = n;
        list.appendChild(li);
      });
    }

    function updateFrequent() {
      const freq = {};
      history.forEach(n => freq[n] = (freq[n] || 0) + 1);
      const sorted = Object.entries(freq).sort((a,b) => b[1]-a[1]).slice(0,5);
      const list = document.getElementById('frequent');
      list.innerHTML = '';
      sorted.forEach(([n,c]) => {
        const li = document.createElement('li');
        li.textContent = `Number ${n}: ${c} times`;
        list.appendChild(li);
      });
    }

    function updateStats() {
      let red = 0, black = 0, even = 0, odd = 0;
      let low = 0, high = 0;
      let dozen1 = 0, dozen2 = 0, dozen3 = 0;
      let col1 = 0, col2 = 0, col3 = 0;

      history.forEach(n => {
        if (n === 0) return;
        // Red / Black
        if (redNumbers.includes(n)) red++; else black++;
        // Even / Odd
        if (n % 2 === 0) even++; else odd++;
        // Low / High
        if (n <= 18) low++; else high++;
        // Dozens
        if (n <= 12) dozen1++;
        else if (n <= 24) dozen2++;
        else dozen3++;
        // Columns
        if (n % 3 === 1) col1++;
        else if (n % 3 === 2) col2++;
        else col3++;
      });

      document.getElementById('stats').innerHTML = `
        <p>Red: ${red} | Black: ${black}</p>
        <p>Even: ${even} | Odd: ${odd}</p>
        <p>Low (1-18): ${low} | High (19-36): ${high}</p>
        <p>Dozen 1 (1-12): ${dozen1} | Dozen 2 (13-24): ${dozen2} | Dozen 3 (25-36): ${dozen3}</p>
        <p>Column 1: ${col1} | Column 2: ${col2} | Column 3: ${col3}</p>
      `;
    }

    function clearHistory() {
      history = [];
      document.getElementById('history').innerHTML = '';
      document.getElementById('frequent').innerHTML = '';
      document.getElementById('stats').innerHTML = '';
    }
  </script>
</body>
</html>
